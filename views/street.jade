h1 #{street.name}

p
    a(href='/streets') Back to everyone

if following.length
    p #{street.name} is following #{following.length} streets:
    // TODO should say 'street' if only one! ;)
    ul.streets
        for other in following
            li.street
                form(action='/streets/#{street.id}/unfollow', method='POST')
                    a(href='/streets/#{other.id}') #{other.name}
                    input(type='hidden', name='street[id]', value='#{other.id}')
                    input(type='submit', class='unfollow', value='x')
else
    p #{street.name} isn't following anyone currently.

if others.length
    form(action='/streets/#{street.id}/follow', method='POST')
        p Add someone for #{street.name} to follow:
        label
            select(name='street[id]', required)
                option(value='')
                for street in others
                    option(value='#{street.id}') #{street.name}
        input(type='submit', value='Follow')
else
    p There's no one else left for #{street.name} to follow!

form(action='/streets/#{street.id}', method='POST')
    p Edit this street:
    input(type='text', name='name', placeholder='#{street.name}', required)
    input(type='submit', value='Update')

form(action='/streets/#{street.id}', method='POST', onsubmit='return confirm("Are you sure?");')
    p And if you're feeling destructiveâ€¦
    input(type='hidden', name='_method', value='DELETE')
    input(type='submit', value='Delete Street')
